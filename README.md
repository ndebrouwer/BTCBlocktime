For stakefish internship: How often does the Bitcoin network see two consecutive blocks mined more than 2 hours apart from each other? We'd like to know your answer (it doesn't have to be precise) and your approach towards this solution using probability and statistics. How many times has the above happened so far in the history of Bitcoin? I ran a bitcoin header node / simplied payment verification node which synced and thus in the process downloaded a verified header chain starting from the genesis block to block ~717000 or thereabouts. I did not bother mainting a continuous node which updates the rest of the header chain up to the current block as I am 99% sure all the block's whose consecutive block was not mined until 2 hours later were mined within Bitcoin's infancy. Mathematically, the question of how often we can expect a consecutive block to be mined after >= 2 hours later , with an average time-to-mine of 10 minutes, is expressed using the cumulative distribution function of the exponential distribution of a Poisson Process, where lamba = 1/10 minutes, and X is 120 minutes. Since we want all blocks >= 2 hours we have e^(-x/lambda) = e^(-120/10) = 0.00000614421. Given the current block height of 717,852 at this time of writing we would expect a total of 717,852*0.00000614421 = 4.41063344 blocks which were mined >= 2 hours later. In actuality, from the results of the script, we know that there are 152 pairs of blocks / blocks whose consecutive block was mined >= 2 hours later. I suppose this makes sense given the fact that Bitcoin mining was probably more sporadic in its infancy. To run the script, you can sync a btc header node yourself, and wait for ./bhn/index/headers to be fully populated, or to save time , if you would like to run the script yourself, you can download a snapshot or download the 'headers' folder I have included, which contains all the necessary .ldb files. Simply populate your .bhn/index/headers folder with the files I have provided, and I think it should work. The script itself is self explanatory, it just iterates through the database and checks the timestamp of the next block to see if it is >= 2 hours than current block's timestamp.
